{"version":3,"file":"static/js/715.d1785401.chunk.js","mappings":"qIAoBA,IAAMA,EAAM,CACVC,UArBF,SAAmBC,EAAUC,GAU3B,OAAOC,MAAMF,EATG,CACdG,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cACE,gOAKHC,MAAK,SAAAC,GACJ,OAAIA,EAASC,GACJD,EAASE,QAElBC,QAAQC,IAAI,SACLC,QAAQC,OAAO,IAAIC,MAAMd,IAClC,GACJ,GAMA,K,+RCtBae,E,QAAcC,GAAAA,GAASC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,+R,SCM9BC,EACE,OADFA,EAGM,WAHNA,EAIM,WA8DZ,EA3DkB,WAChB,IAAAC,GAAkCC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAvCI,EAASF,EAAA,GAAEG,EAAYH,EAAA,GAC9BI,GAAsCL,EAAAA,EAAAA,WAAS,GAAKM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAA7CE,EAAWD,EAAA,GAAEE,EAAcF,EAAA,GAClCG,GAA4BT,EAAAA,EAAAA,UAASF,GAAYY,GAAAR,EAAAA,EAAAA,GAAAO,EAAA,GAA1CE,EAAMD,EAAA,GAAEE,EAASF,EAAA,GACxBG,GAA0Bb,EAAAA,EAAAA,UAAS,IAAGc,GAAAZ,EAAAA,EAAAA,GAAAW,EAAA,GAA/BE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GACdG,GAAOC,EAAAA,EAAAA,MAAPD,GAEFvC,EAAQ,sCAAAyC,OAAyCF,EAAE,2BACnDtC,EAAY,+BAyBlB,OAvBAyC,EAAAA,EAAAA,YAAU,WACJb,EACFC,GAAe,GAGjBa,EAAAA,EAAAA,UAAc3C,EAAUC,GACrBM,MAAK,SAAAC,GACJ,GAA6B,IAAzBA,EAASoC,KAAKC,OAIhB,OAHAnB,EAAa,IACbY,EAASrC,QACTiC,EAAUd,GAGZM,EAAalB,EAASoC,MACtBV,EAAUd,EACZ,IACC0B,OAAM,SAAAC,GACLrB,EAAa,IACbY,EAASrC,GACTiC,EAAUd,EACZ,GACJ,GAAG,CAACpB,EAAUC,EAAc4B,IAEb,aAAXI,GAEAe,EAAAA,EAAAA,KAAChC,EAAW,CAAAiC,SACTxB,EAAUyB,KAAI,SAAAC,GAAoD,IAAjDZ,EAAEY,EAAFZ,GAAIa,EAAYD,EAAZC,aAAcC,EAAIF,EAAJE,KAAMC,EAASH,EAATG,UAAWC,EAAMJ,EAANI,OAC7CC,EACJD,EAAS,EAAIE,EAAoB,IAAXF,EAAeG,EAAWC,EAC5CC,EAAUR,EAAY,mCAAAX,OACWW,GACnCI,EACJ,OACEK,EAAAA,EAAAA,MAAA,MAAAZ,SAAA,EACED,EAAAA,EAAAA,KAAA,OAAKc,IAAKT,EAAMU,IAAKH,EAASI,MAAM,QAAQC,OAAO,WACnDjB,EAAAA,EAAAA,KAAA,MAAAC,SAAKI,KACLL,EAAAA,EAAAA,KAAA,MAAAC,SAAI,gBACJD,EAAAA,EAAAA,KAAA,KAAAC,SAAIK,MAJGf,EAOb,MAIS,aAAXN,GACKe,EAAAA,EAAAA,KAAA,MAAAC,SAAKZ,SADd,CAGF,C","sources":["Services/SearchDataApi.js","components/MovieCast/MovieCast.styled.jsx","components/MovieCast/MovieCast.jsx"],"sourcesContent":["function fetchData(base_URL, errorMassage) {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI2MWQ5Y2Y2YTlkOWIzNThkNTE2MDY4NGE3NWRlMTg0NiIsInN1YiI6IjY1MTBiMmU2M2E0YTEyMDBjNWFhNjAxZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.c4yYt4p0SuZDxRBn3LGch8hpfAZK22HJzxSkBR3CMgk',\n    },\n  };\n\n  return fetch(base_URL, options)\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n      console.log(\"ERROR\")\n      return Promise.reject(new Error(errorMassage));\n    })\n}\n\nconst api = {\n  fetchData,\n};\n\nexport default api;\n","import styled from 'styled-components';\n\nexport const CastGallery = styled.ul`\n  padding: 0;\n  padding-top: 20px;\n  display: grid;\n  max-width: calc(100vw - 48px);\n  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));\n  grid-gap: 6px;\n  margin-top: 0;\n  margin-bottom: 0;\n  list-style: none;\n  margin-left: auto;\n  margin-right: auto;\n`;","import { useParams } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport API from 'Services/SearchDataApi.js';\nimport womanImg from './Woman.png';\nimport manImg from './Man.png';\nimport undefinedGenderImg from './UndefinedGender.png';\nimport { CastGallery } from './MovieCast.styled';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nconst MovieCast = () => {\n  const [movieCast, setMovieCast] = useState([]);\n  const [isFirstLoad, setIsFirstLoad] = useState(true);\n  const [status, setStatus] = useState(Status.IDLE);\n  const [error, setError] = useState('');\n  const { id } = useParams();\n\n  const base_URL = `https://api.themoviedb.org/3/movie/${id}/credits?language=en-US`;\n  const errorMassage = `Cast for movie was not found`;\n\n  useEffect(() => {\n    if (isFirstLoad) {\n      setIsFirstLoad(false);\n      return;\n    }\n    API.fetchData(base_URL, errorMassage)\n      .then(response => {\n        if (response.cast.length === 0) {\n          setMovieCast([]);\n          setError(errorMassage);\n          setStatus(Status.REJECTED);\n          return;\n        }\n        setMovieCast(response.cast);\n        setStatus(Status.RESOLVED);\n      })\n      .catch(err => {\n        setMovieCast([]);\n        setError(errorMassage);\n        setStatus(Status.REJECTED);\n      });\n  }, [base_URL, errorMassage, isFirstLoad]);\n\n  if (status === 'resolved') {\n    return (\n      <CastGallery>\n        {movieCast.map(({ id, profile_path, name, character, gender }) => {\n          const genderImg =\n            gender > 1 ? manImg : gender === 1 ? womanImg : undefinedGenderImg;\n          const srcPath = profile_path\n            ? `https://image.tmdb.org/t/p/w500/${profile_path}`\n            : genderImg;\n          return (\n            <li key={id}>\n              <img alt={name} src={srcPath} width=\"240px\" height=\"320px\" />\n              <h2>{name}</h2>\n              <h3>Character:</h3>\n              <p>{character}</p>\n            </li>\n          );\n        })}\n      </CastGallery>\n    );\n  }\n  if (status === 'rejected') {\n    return <h1>{error}</h1>;\n  }\n};\n\nexport default MovieCast;\n"],"names":["api","fetchData","base_URL","errorMassage","fetch","method","headers","accept","Authorization","then","response","ok","json","console","log","Promise","reject","Error","CastGallery","styled","_templateObject","_taggedTemplateLiteral","Status","_useState","useState","_useState2","_slicedToArray","movieCast","setMovieCast","_useState3","_useState4","isFirstLoad","setIsFirstLoad","_useState5","_useState6","status","setStatus","_useState7","_useState8","error","setError","id","useParams","concat","useEffect","API","cast","length","catch","err","_jsx","children","map","_ref","profile_path","name","character","gender","genderImg","manImg","womanImg","undefinedGenderImg","srcPath","_jsxs","alt","src","width","height"],"sourceRoot":""}